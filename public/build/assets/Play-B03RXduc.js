import{C as pe}from"./CourseLessons-CUmQZPvD.js";import{_ as me,E as ne,r as i,I as _e,q as ye,g as he,c,a as e,e as u,C as ie,t as a,l as le,b as t,j as re,D as b,k as be,F as fe,o as r}from"./app-DpBHsqIn.js";import"./exam-DNm-dOxu.js";import"./quiz-C4bTsM8A.js";import"./index-BXhxl2qS.js";const ve={class:"play-meta-background"},ge={class:"container d-block text-light"},xe={class:"container py-4 move-top"},ke={class:"card"},we={class:"card-body"},Pe={key:0,class:"row"},Ve={class:"col-12 col-lg-7 px-2 px-lg-4"},$e=["src"],Ae={key:1},Ce=["innerHTML"],De={key:2,class:"border border-primary text-center px-4 pb-4 pt-5 rounded mb-5"},je={class:"mt-3 fs-4 col-8 mx-auto my-4 pt-4"},qe=["src"],ze={key:3},Te=["src"],Ee=["href"],Ie=["href"],Be={key:4,class:"text-center border border-primary rounded py-5 mb-5"},Le={class:"mt-3 fs-4 col-8 mx-auto"},Me=["href"],Ne={class:"row"},Re={class:"col-12"},He={class:"course-title"},Se={class:"col-12"},Fe={class:"instructor-title text-uppercase text-muted"},Oe={class:"d-flex align-items-center gap-3"},Ye=["src"],Ge={class:"d-flex flex-column justify-content-center"},Je={class:"instructor-name"},Ke={class:"instructor-details text-muted"},Qe={class:"col-12 col-lg-5 border-start px-2 mt-5 mt-lg-0 px-lg-4"},Ue={class:"mb-3 mb-lg-5 fw-bold fs-2"},We={key:1,class:"d-flex justify-content-center align-items-center flex-column py-5"},Xe={class:"fs-5 text-muted mb-2"},Ze={key:1,class:"btn btn-outline-secondary mt-3 px-4 py-2 fw-semibold",style:{cursor:"pointer"}},et={__name:"Play",setup(tt){const ce=ne(),f=_e(),de=i(f.params.course_id),p=i(f.query.content_id);let k=i({});i(!1);let l=i({}),o=i({}),w=i({}),P=i({}),V=i({}),m=i(!1),_=i(!1);const y=i(null),h=i(null),$=i(!1),A=s=>{m.value=!0,m.value&&y.value&&y.value.play()},C=s=>{m.value=!1,!m.value&&y.value&&y.value.pause()},D=s=>{_.value=!0,_.value&&h.value&&h.value.play()},j=s=>{_.value=!1,!_.value&&h.value&&h.value.pause()};ye(()=>f.query.content_id,()=>{p.value=f.query.content_id,x(p.value)}),he(()=>{ue()});const ue=async()=>{try{const s=await axios.get(`/course/show/${de.value}`,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${ce.authToken}`}});l.value=s.data.data,w.value=s.data.data.chapters,P.value=s.data.data.exams,V.value=s.data.data.quizzes,p.value||(p.value=s.data.data.chapters[0].contents[0].id),x(p.value)}catch{}},x=async s=>{var n,v,g;try{const d=await axios.post(`/view_content/${s}`,null,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+ne().authToken}});o.value=d.data.data.content}catch(d){(v=(n=d.response)==null?void 0:n.data)!=null&&v.message.includes("subscribe")&&((g=d.response)==null?void 0:g.status)===403&&($.value=!0),k.value=!1}};return(s,n)=>{var d,q,z,T,E,I,B,L,M,N,R,H,S,F,O,Y,G,J,K,Q,U,W,X,Z,ee,te,se,oe,ae;const v=re("router-link"),g=re("RouterLink");return r(),c(fe,null,[e("section",ve,[e("span",ge,[u(a(s.$t("Home"))+" /",1),ie(v,{to:"/details/"+((q=(d=t(l))==null?void 0:d.course)==null?void 0:q.id),class:"text-light"},{default:le(()=>[u(a(s.$t("My Courses")),1)]),_:1},8,["to"]),u("/"+a((T=(z=t(l))==null?void 0:z.course)==null?void 0:T.title),1)])]),e("main",xe,[e("div",ke,[e("div",we,[t(k)?(r(),c("section",Pe,[e("section",Ve,[t(o).type=="video"&&t(o).media_id?(r(),c("video",{key:0,class:"rounded",src:(E=t(o))==null?void 0:E.media,width:"100%",ref_key:"videoElement",ref:y,controls:"",onPlay:A,onPause:C},null,40,$e)):b("",!0),t(o).type=="video"&&t(o).media_link?(r(),c("div",Ae,[e("div",{width:"100%",innerHTML:t(o).media_link},null,8,Ce)])):b("",!0),t(o).type=="audio"?(r(),c("div",De,[n[0]||(n[0]=e("i",{class:"bi bi-mic display-1 rounded-circle border px-3 text-primary"},null,-1)),e("p",je,a((I=t(o))==null?void 0:I.title)+"."+a((B=t(o))==null?void 0:B.file_extension),1),e("audio",{src:t(o).media,ref_key:"audioElement",ref:h,controls:"",onPlay:D,onPause:j,class:"w-100"},null,40,qe)])):b("",!0),t(o).type=="image"?(r(),c("div",ze,[e("img",{src:(L=t(o))==null?void 0:L.media,width:"100%",height:"400",class:"mb-3 object-fit-cover rounded"},null,8,Te),e("a",{href:(M=t(o))==null?void 0:M.media,download:"",class:"btn btn-sm btn-primary me-2"},[u(a(s.$t("Download image"))+" ",1),n[1]||(n[1]=e("i",{class:"bi bi-download ms-1"},null,-1))],8,Ee),e("a",{href:(N=t(o))==null?void 0:N.media,target:"_blank",class:"btn btn-sm btn-outline-primary"},[u(a(s.$t("View in full size"))+" ",1),n[2]||(n[2]=e("i",{class:"bi bi-box-arrow-up-right ms-2"},null,-1))],8,Ie)])):b("",!0),t(o).type=="document"?(r(),c("div",Be,[n[4]||(n[4]=e("i",{class:"bi bi-file-earmark-text display-1 rounded-circle border px-3 text-primary"},null,-1)),e("p",Le,a((R=t(o))==null?void 0:R.title)+"."+a((H=t(o))==null?void 0:H.file_extension),1),e("a",{href:(S=t(o))==null?void 0:S.media,download:"",target:"_blank",class:"btn btn-sm btn-primary"},[u(a(s.$t("Download Document"))+" ",1),n[3]||(n[3]=e("i",{class:"bi bi-download ms-1"},null,-1))],8,Me)])):b("",!0),e("div",Ne,[e("div",Re,[e("h4",He,a((O=(F=t(l))==null?void 0:F.course)==null?void 0:O.title),1)]),e("div",Se,[e("p",Fe,a(s.$t("Instructor")),1),e("div",Oe,[e("div",null,[e("img",{class:"instructor-img",src:(J=(G=(Y=t(l))==null?void 0:Y.course)==null?void 0:G.instructor)==null?void 0:J.profile_picture,alt:"instructor image"},null,8,Ye)]),e("div",Ge,[e("h3",Je,a((U=(Q=(K=t(l))==null?void 0:K.course)==null?void 0:Q.instructor)==null?void 0:U.name),1),e("p",Ke,a((Z=(X=(W=t(l))==null?void 0:W.course)==null?void 0:X.instructor)==null?void 0:Z.title),1)])])])])]),e("section",Qe,[e("h3",Ue,a(s.$t("Playlist")),1),ie(pe,{chapters:t(w),courseId:(te=(ee=t(l))==null?void 0:ee.course)==null?void 0:te.id,course:(se=t(l))==null?void 0:se.course,isPlayingVideo:t(m),contentData:t(o),exams:t(P),quizes:t(V),isPlayingAudio:t(_),onPlayVideo:A,onPauseVideo:C,onPlayAudio:D,onPauseAudio:j},null,8,["chapters","courseId","course","isPlayingVideo","contentData","exams","quizes","isPlayingAudio"])])])):(r(),c("section",We,[n[5]||(n[5]=e("i",{class:"bi bi-emoji-frown display-3 text-secondary mb-3"},null,-1)),e("p",Xe,a(s.$t("Oops! The door to the world of learning is a bit closed"))+" ðŸšª",1),$.value?(r(),be(g,{key:0,to:"/details/"+((ae=(oe=t(l))==null?void 0:oe.course)==null?void 0:ae.id),class:"btn btn-primary mt-3 shadow-sm px-4 py-2"},{default:le(()=>[u(a(s.$t("Your subscription has expired. Renew now to continue learning")),1)]),_:1},8,["to"])):(r(),c("button",Ze,a(s.$t("Content not available")),1))]))])])])],64)}}},lt=me(et,[["__scopeId","data-v-00e976cb"]]);export{lt as default};
