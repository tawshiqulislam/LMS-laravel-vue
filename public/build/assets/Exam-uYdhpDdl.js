import{_ as T,E as L,K as B,r as M,I as z,g as j,f as Q,s as R,S as Y,c as i,b as r,a as e,C as A,t,l as D,j as F,e as f,F as x,h as k,n as N,o as n}from"./app-DpBHsqIn.js";import{u as V}from"./exam-DNm-dOxu.js";const I={key:0,class:"d-flex align-items-center justify-content-center",style:{height:"calc(100vh - 170px)"}},K={class:"text-danger"},P={key:0,class:"question-section"},H={class:"d-flex justify-content-between align-items-start"},O={class:"timer"},U={class:"fs-6 fw-bold text-primary"},G={class:"timer text-end"},J={class:"timer text-end"},W={class:"timer text-end"},X={class:"questionText"},Z={class:"options"},q=["value","onChange"],ee=["value","onChange","name"],se={class:"navigation d-flex justify-content-end mt-5"},te={key:1,class:"result-section"},ae={class:"text-center mb-4 text-primary fs-3"},oe={class:"container"},le={class:"row d-flex justify-content-center"},ce={class:"col-12 col-md-6 col-lg-4",style:{width:"70%"}},ie={class:"card border-primary text-center"},re={class:"card-header bg-primary text-white"},ne={class:"card-title"},de={class:"card-body"},he={class:"svg-container mb-4"},me={key:0,xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"green",class:"bi bi-check-circle-fill",viewBox:"0 0 16 16"},ue={key:1,xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"red",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},_e={key:0,class:"text-success m-0 fs-3 fw-bold"},fe={key:1,class:"text-danger fs-3 fw-bold m-0"},ve={class:"card-text fw-bold mt-2"},be={class:"fs-5"},ge={class:"row justify-content-center mt-4"},ye={class:"col-12 col-md-6 col-lg-4",style:{width:"100%"}},we={href:"/dashboard",class:"btn btn-primary w-100"},xe={__name:"Exam",setup(ke){const p=L(),a=V(),b=z(),g=Q(),{t:y}=B(),h=M([]);let C=b.params.id;const w=(s,l,d,u,_="checkbox")=>{if(h.value[s]||(h.value[s]={question_id:l,..._==="radio"?{choice:null}:{choices:[]}}),u.target.checked)_==="radio"?h.value[s].choice=d:h.value[s].choices.includes(d)||h.value[s].choices.push(d);else if(_==="checkbox"){const m=h.value[s].choices.indexOf(d);m>-1&&h.value[s].choices.splice(m,1)}else h.value[s].choice=null;const o=a.answers.findIndex(m=>m.question_id===l);o>-1?a.answers[o]=h.value[s]:a.answers.push(h.value[s])},S=()=>{a.submitQuiz()};j(()=>{const s=g.beforeEach((l,d,u)=>{b.name===d.name?$(l,d,u):u()});g.afterEach(()=>{s()}),a.fetchQuestions(C,p.authToken),a.isExamSubmitted=!1}),R(()=>{a.isExamSubmitted=!1,a.answers=[],h.value=[]});const $=(s,l,d)=>{Y.fire({title:y("Are you sure?"),text:y("Your progress may be lost if you leave the exam"),icon:"warning",showCancelButton:!0,confirmButtonText:"Leave Exam",cancelButtonText:"Stay on Page"}).then(u=>{u.isConfirmed?d():d(!1)})};return(s,l)=>{var u,_;const d=F("router-link");return r(a).sessionClosed?(n(),i("div",I,[e("div",null,[e("h3",K,t(r(a).errorMessage),1),A(d,{to:"/",class:"btn btn-primary mt-4 w-100"},{default:D(()=>[f(t(s.$t("Move to Dashboard"))+" ",1),l[0]||(l[0]=e("i",{class:"bi bi-arrow-right"},null,-1))]),_:1})])])):(n(),i("div",{key:1,class:N(["quiz-container shadow my-5",r(a).sessionClosed?"d-none":"d-block"])},[e("h1",null,t(s.$t("Test Your Limits: How Much Do You Really Know"))+"?",1),r(a).isExamSubmitted?(n(),i("div",te,[e("h2",ae,t(s.$t("Congratulations"))+", "+t(s.$t("Exam Completed")),1),e("div",oe,[e("div",le,[e("div",ce,[e("div",ie,[e("div",re,[e("h5",ne,t(s.$t("Scoreboard")),1)]),e("div",de,[e("div",he,[r(a).score>=((u=r(a).examSession)==null?void 0:u.pass_mark)?(n(),i("svg",me,[...l[2]||(l[2]=[e("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},null,-1)])])):(n(),i("svg",ue,[...l[3]||(l[3]=[e("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"},null,-1)])]))]),r(a).score>=((_=r(a).examSession)==null?void 0:_.pass_mark)?(n(),i("h4",_e,t(s.$t("You Passed"))+"!",1)):(n(),i("h4",fe,t(s.$t("You Failed"))+"!",1)),e("p",ve,[f(t(s.$t("You scored"))+": ",1),e("strong",be,t(r(a).score),1)])])])])]),e("div",ge,[e("div",ye,[e("a",we,[f(t(s.$t("Move to Dashboard"))+" ",1),l[4]||(l[4]=e("i",{class:"bi bi-arrow-right"},null,-1))])])])])])):(n(),i("div",P,[e("div",H,[e("p",O,[f(t(s.$t("Time Remaining"))+" : ",1),e("span",U,t(r(a).formattedTime),1)]),e("div",null,[e("p",G,t(s.$t("Total Question"))+" : "+t(r(a).currentQuestion.length),1),e("p",J,t(s.$t("Total Time "))+" : "+t(r(a).examSession.exam_duration/60)+t(s.$t("min")),1),e("p",W,t(s.$t("Total Mark"))+" : "+t(r(a).examSession.total_mark),1)])]),e("h2",null,t(s.$t("Question")),1),(n(!0),i(x,null,k(r(a).currentQuestion,(o,m)=>(n(),i("div",{key:m},[e("p",X,[l[1]||(l[1]=e("i",{class:"bi bi-chevron-double-right"},null,-1)),f(" "+t(m+1)+". "+t(o==null?void 0:o.question_text),1)]),e("div",Z,[(n(!0),i(x,null,k(o==null?void 0:o.options,(c,E)=>(n(),i("label",{key:E,class:"option"},[(o==null?void 0:o.question_type)==="multiple_choice"?(n(),i("input",{key:0,type:"checkbox",value:c==null?void 0:c.text,onChange:v=>w(m,o==null?void 0:o.id,c==null?void 0:c.text,v)},null,40,q)):(n(),i("input",{key:1,type:"radio",value:c==null?void 0:c.text,onChange:v=>w(m,o==null?void 0:o.id,c==null?void 0:c.text,v,s.type="radio"),name:"question_"+m},null,40,ee)),f(" "+t(c==null?void 0:c.text),1)]))),128))])]))),128)),e("div",se,[e("button",{class:"btn btn-primary btn-lg px-5 py-2",onClick:S},t(s.$t("Submit")),1)])]))],2))}}},Se=T(xe,[["__scopeId","data-v-78091f94"]]);export{Se as default};
